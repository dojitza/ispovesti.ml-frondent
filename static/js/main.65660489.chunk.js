(this["webpackJsonpispovesti.ml-frontend"]=this["webpackJsonpispovesti.ml-frontend"]||[]).push([[0],{31:function(e,t,a){e.exports=a(56)},36:function(e,t,a){},45:function(e,t){},46:function(e,t,a){},47:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(15),r=a.n(i),s=(a(36),a(62)),l=a(61),c=a(58),u=a(59),m=(a(20),a(7)),d=a.n(m),p=a(13),v=a(6),g=a(60),f="http://192.168.100.14:5000/api/v1",b=["Odobravam","To mi\u0161ko","To brate","Mnogo dobro","Cepaj mala","So\u010dno"],k=["Osu\u0111ujem","Lo\u0161e sestro","Slabo jarane","Mizerija"],j=300,h=90,E=0,y=1,O=2,N=a(21),x=a.n(N);a(46);function w(e){var t=e.ispovest,a=e.likes,n=e.dislikes,i=e.handleDislikeClick,r=e.handleLikeClick,s=e.extraCssClass;return o.a.createElement(c.a,{style:{margin:5},className:"ispovest ".concat(s)},o.a.createElement(u.a,null,o.a.createElement(u.a,{className:"ispovestText"},t.text),o.a.createElement(c.a,{className:"reactionContainer"},o.a.createElement(u.a,{className:"reactionCol",xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",style:{paddingRight:5}},o.a.createElement("button",{className:"button",variant:"dark",onClick:function(){r(t.id)},disabled:t.timesLiked>0,style:t.timesLiked>0?{backgroundColor:"rgba(50, 50, 50, 0.5)"}:{}},a[Math.floor(Math.random()*a.length)]),o.a.createElement("span",{className:"reactionCount"},t.likes)),o.a.createElement(u.a,{className:"reactionCol ",xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto"},o.a.createElement("button",{className:"button",variant:"dark",onClick:function(){i(t.id)},disabled:t.timesDisliked>0,style:t.timesDisliked>0?{backgroundColor:"rgba(50, 50, 50, 0.5)"}:{}},n[Math.floor(Math.random()*n.length)]),o.a.createElement("span",{className:"reactionCount"},t.dislikes)),o.a.createElement(u.a,{className:"reactionCol"},o.a.createElement("div",{className:"authorNameContainer"},o.a.createElement("span",{className:"authorName"},t.authorName))))))}var C=a(26),S=(a(47),function(e){var t=e.page,a=e.setPage,n=e.waitingForAsync,i=e.reachedEndFlag,r=e.pageIndicatorClickHandler,s=i||n,l=0===t||n;return o.a.createElement(c.a,{style:{marginTop:20,marginBottom:20}},o.a.createElement(u.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(C.a,{style:{fontSize:80,color:l?"grey":"whitesmoke",background:"rgba(0,0,0,0.66)",borderRadius:10,padding:10,cursor:"pointer",pointerEvents:l?"none":null},onClick:function(){return a(t-1)},disabled:n})),o.a.createElement(u.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement("div",{className:"pageIndicator",onClick:r},n?o.a.createElement(g.a,{style:{padding:30},animation:"border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")):o.a.createElement("span",{style:{textAlign:"center",fontSize:80,color:"whitesmoke",background:"rgba(0,0,0,0.66)",borderRadius:10,lineHeight:1,paddingLeft:20,paddingRight:20}},t+1))),o.a.createElement(u.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(C.b,{style:{fontSize:80,color:s?"grey":"whitesmoke",background:"rgba(0,0,0,0.66)",borderRadius:10,padding:10,cursor:"pointer",pointerEvents:s?"none":null},onClick:function(){return a(t+1)}})))}),I=a(63),D=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),o=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),o<10&&(o="0"+o),a+":"+n+":"+o};function R(e){var t=e.updateData,a=e.showGenerationModal,i=e.setShowGenerationModal,r=Object(n.useState)(!0),s=Object(v.a)(r,2),l=s[0],m=s[1],b=Object(n.useState)({id:null,text:null}),k=Object(v.a)(b,2),N=k[0],x=k[1],w=Object(n.useState)(E),C=Object(v.a)(w,2),S=C[0],R=C[1],L=Object(n.useState)(),M=Object(v.a)(L,2),z=M[0],T=M[1],B=Object(n.useState)(""),F=Object(v.a)(B,2),G=F[0],J=F[1],P=Object(n.useState)(""),A=Object(v.a)(P,2),H=A[0],q=A[1],V=Object(n.useState)(!1),U=Object(v.a)(V,2),Z=(U[0],U[1]),K=Object(n.useState)(h),Q=Object(v.a)(K,2),W=Q[0],X=Q[1],Y=S===y;Object(n.useEffect)((function(){var e=setInterval((function(){$()}),1e3);return function(){return clearInterval(e)}}));var $=function(){Y&&(X(W-1),S===y&&(W<=1||W%10===0)&&ee(),W<=1&&X(9))},_=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x({id:null,text:null}),e.next=3,fetch("".concat(f,"/generateIspovest"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({prefix:t})});case 3:e.sent.isError||(R(y),ee());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/generateIspovest"));case 2:if((t=e.sent).isError){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,console.log(a),a.id?(x(a),R(O),X(h)):a.queuePosition!=z&&(X((a.queuePosition+1)*h),T(a.queuePosition));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(d.a.mark((function e(a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,fetch("".concat(f,"/publishIspovest"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({ispovestId:a,authorName:n})});case 3:e.sent.ok?(i(!1),t()):alert("Do\u0161lo je do gre\u0161ke, poku\u0161ajte opet opet"),Z(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(I.a,{size:"m",centered:"true",show:a,onHide:function(){return i(!1)},backdrop:"static",keyboard:!1,className:"my-modal",animation:!0},o.a.createElement(I.a.Body,null,l?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{className:"modalRow ispovestText"},"Dobrodo\u0161li u generiranje ispovesti. Na idu\u0107em ekranu Upi\u0161ite po\u010detak ispovesti ako \u017eelite (do 20 znakova!) i kliknite generiraj. Zbog velikih zahtjeva na sistem generiranje ispovesti traje do ",h/60,"min i ako je aktivno mnogo korisnika bit \u0107ete stavljeni u red za \u010dekanje. Jednom kada se ispovest generira mo\u0107i \u0107ete da ju prihvatite ili generirate novu, sve dok ne budete zadovoljni sa svojom ispovesti. Jednom kada ste zadovoljni, opcionalno upi\u0161ite svoje ime i kliknite prihvati. Ispovest \u0107e se objaviti u generiraj sekciji gde \u0107e u\u0107i u konkurenciju za objavljivanje na glavnoj listi i na\u0161im ostalim platformama (ig, fb). Ispovest mo\u017eete da objavite jednom svakih ",j/60," min."),o.a.createElement(c.a,{className:"modalRow buttonRow"},o.a.createElement("button",{title:"Mo\u017ee",className:"button continueButton mozeButton",onClick:function(){return m(!1)}},"Mo\u017ee"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{className:"modalRow modalText"},"Po\u010detak ispovesti"),o.a.createElement(c.a,{className:"modalRow modalInput"},o.a.createElement("input",{type:"text",maxLength:"20",value:G,onChange:function(e){return J(e.target.value)}})),o.a.createElement(c.a,{className:"modalRow"},o.a.createElement("button",{title:"Generiraj",className:"button continueButton ".concat(Y?"disabledButton":""),onClick:function(){return _(G)},disabled:Y},"Generiraj")),o.a.createElement(c.a,{className:"modalRow ispovestText generatedIspovestText"},function(e){switch(e){case E:return"Ovde \u0107e da se prika\u017ee generisovana ispovest";case y:return o.a.createElement(g.a,{style:{padding:30},animation:"border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."));case O:return N.text;default:return"Ovde \u0107e da se prika\u017ee generisovana ispovest"}}(S)),z>=0&&!N.id&&o.a.createElement(c.a,{className:"modalRow queueInfoText"},"Va\u0161a ispovest je ",z+1,". u redu \u010dekanja, otprilike vreme do zavr\u0161etka: ",D(W)),o.a.createElement(c.a,{className:"modalRow modalText"},"Va\u0161e ime"),o.a.createElement(c.a,{className:"modalRow modalInput"},o.a.createElement("input",{type:"text",maxLength:"20",value:H,onChange:function(e){return q(e.target.value)}})),o.a.createElement(c.a,{className:"modalRow"},o.a.createElement(u.a,{className:"modalCol"},o.a.createElement("button",{title:"Objavi",className:"button continueButton ".concat(Y||null===N.id?"disabledButton":""),onClick:function(){1==window.confirm("Da li ste sigurni da \u017eelite objaviti ispovest? Ispovest mo\u017eete da objavite jednom svakih "+j/3600+" \u010dasova")&&(te(N.id,H),i(!1))},disabled:Y||null===N.id},"Objavi")),o.a.createElement(u.a,{className:"modalCol"},o.a.createElement("button",{title:"Odustani",className:"button continueButton",onClick:function(){1==window.confirm("Da li ste sigurni da \u017eelite odustati?")&&i(!1)}},"Odustani"))))))}a(51);function L(){var e=Object(n.useState)(null),t=Object(v.a)(e,2),a=(t[0],t[1]),i=Object(n.useState)([]),r=Object(v.a)(i,2),s=r[0],l=r[1],c=Object(n.useState)(0),u=Object(v.a)(c,2),m=u[0],h=u[1],E=Object(n.useState)(!1),y=Object(v.a)(E,2),O=y[0],N=y[1],C=Object(n.useState)(!0),I=Object(v.a)(C,2),L=I[0],M=I[1],z=Object(n.useState)(!1),T=Object(v.a)(z,2),B=T[0],F=T[1],G=Object(n.useState)(0),J=Object(v.a)(G,2),P=J[0],A=J[1];x()(localStorage.getItem("randomSeed"),{global:!0});var H=b,q=k,V=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/arenaIspovesti?page=").concat(m));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/user"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,M(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,V();case 3:return t=e.sent,e.next=6,U();case 6:return a=e.sent,N(!1),e.abrupt("return",{ispovesti:t,userData:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:t=e.sent,a=t.userData,A((0|(null===a||void 0===a?void 0:a.lastPublishTime))+j-Math.round((new Date).getTime()/1e3));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){K()}),[m]),Object(n.useEffect)((function(){var e=setInterval((function(){P>0&&A(P-1)}),1e3);return function(){return clearInterval(e)}}));var Q=function(e,t){N(!0),fetch("".concat(f,"/arenaIspovesti/").concat(e,"/putReaction"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});var a=s,n=a.find((function(t){return t.id===e})),o=n.timesLiked+n.timesDisliked>0;"like"===t?(n.timesLiked+=1,n.likes+=1,o&&(n.timesDisliked-=1,n.dislikes-=1)):"dislike"===t&&(n.timesDisliked+=1,n.dislikes+=1,o&&(n.timesLiked-=1,n.likes-=1)),l(JSON.parse(JSON.stringify(a))),N(!1)},W=function(e){Q(e,"like")},X=function(e){Q(e,"dislike")};return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{updateData:K,showGenerationModal:B,setShowGenerationModal:F}),o.a.createElement("div",null,o.a.createElement("div",{className:"ispovestGenerationModalButtonContainer"},o.a.createElement("button",{title:P>0?"Vreme preostalo do kad opet mo\u017eete da objavite ispovest":"Generiraj novu ispovest",className:"ispovestGenerationModalButton "+(P>0?"ispovestGenerationModalButtonDisabled":""),variant:"dark",onClick:function(){return F(!0)},disabled:P>0||L},o.a.createElement("span",null,L?o.a.createElement(g.a,{style:{padding:30},animation:"border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")):P>0?D(P):"Generiraj novu ispovest"))),o.a.createElement(S,{page:m,setPage:h,waitingForAsync:O,reachedEndFlag:s.length<10,pageIndicatorClickHandler:K}),null===s||void 0===s?void 0:s.map((function(e){return o.a.createElement(w,{extraCssClass:"arenaIspovest",key:e.id,ispovest:e,likes:H,dislikes:q,handleLikeClick:W,handleDislikeClick:X})})),o.a.createElement(S,{page:m,setPage:h,waitingForAsync:O,reachedEndFlag:s.length<10,pageIndicatorClickHandler:K})))}function M(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(0),s=Object(v.a)(r,2),l=s[0],c=s[1],u=Object(n.useState)(!1),m=Object(v.a)(u,2),g=m[0],j=m[1];x()(localStorage.getItem("randomSeed"),{global:!0});var h=b,E=k,y=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,fetch("".concat(f,"/ispovesti?page=").concat(l));case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,i(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:j(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){y()}),[l]);var O=function(e,t){j(!0),fetch("".concat(f,"/ispovesti/").concat(e,"/putReaction"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});var n=a,o=n.find((function(t){return t.id===e})),r=o.timesLiked+o.timesDisliked>0;"like"===t?(o.timesLiked+=1,o.likes+=1,r&&(o.timesDisliked-=1,o.dislikes-=1)):"dislike"===t&&(o.timesDisliked+=1,o.dislikes+=1,r&&(o.timesLiked-=1,o.likes-=1)),o.reactedInRuntime=!0,console.log(o),i(JSON.parse(JSON.stringify(n))),j(!1)},N=function(e){O(e,"like")},C=function(e){O(e,"dislike")};return o.a.createElement("div",null,o.a.createElement(S,{page:l,setPage:c,waitingForAsync:g,reachedEndFlag:a.length<10,pageIndicatorClickHandler:y}),null===a||void 0===a?void 0:a.map((function(e){return o.a.createElement(w,{key:e.id,ispovest:e,likes:h,dislikes:E,handleLikeClick:N,handleDislikeClick:C})})),o.a.createElement(S,{page:l,setPage:c,waitingForAsync:g,reachedEndFlag:a.length<10,pageIndicatorClickHandler:y}))}a(52);var z=a(18);function T(){return o.a.createElement(l.a,{className:"landingContainer"},o.a.createElement(u.a,null,o.a.createElement(c.a,{className:"landingRow"},o.a.createElement(u.a,{className:"landingCol"},o.a.createElement(z.b,{to:"/generated",className:"landingButton generiraj"},"Generiraj nove i sudi")),o.a.createElement(u.a,{className:"landingCol"},o.a.createElement(z.b,{to:"/published",className:"landingButton citaj"},"\u010citaj stare"))),o.a.createElement(c.a,{className:"landingRow"},o.a.createElement(u.a,{className:"landingInfo"},"Dobrodo\u0161li na ispovesti.ml. Na ovom sajtu prona\u0107i \u0107ete ispovesti generirane generativnim tekstualnim modelom pod imenom"," ",o.a.createElement("a",{href:"https://openai.com/blog/better-language-models/"},"gpt-2")," ","- nau\u010denom nad skupom od 120 hiljada ispovesti preuzetih sa sajta"," ",o.a.createElement("a",{href:"http://ispovesti.com"},"ispovesti.com"),". Na\u0161 rad s modelom sastojao se od prikupljanja originalnog materijala (ispovesti), te treniranja modela kako bi upio njihovu bit. Rezultiraju\u0107i model generirao je sve ispovesti koje se nalaze na ovom sajtu. Vi\u0161e o projektu mo\u017eete pro\u010ditati na slede\u0107em"," ",o.a.createElement("a",{href:"https://dojitza.github.io/projects/Ispovesti.ml/"},"linku")))))}var B=a(5);var F=function(){return o.a.createElement(z.a,null,o.a.createElement("div",{className:"content"},o.a.createElement(s.a,{style:{backgroundColor:"rgba(0,0,0,0)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:0}},o.a.createElement(z.b,{className:"mainLink",to:"/",style:{textAlign:"center",backgroundColor:"rgba(0,0,0,0.66)",color:"whitesmoke",fontSize:50,paddingLeft:20,paddingRight:20,borderRadius:10,width:300}},"Ispovesti.ml")),o.a.createElement(B.c,null,o.a.createElement(B.a,{path:"/published"},o.a.createElement(l.a,{className:"body",style:{marginTop:-30}},o.a.createElement(c.a,null,o.a.createElement(u.a,null,o.a.createElement(M,null))))),o.a.createElement(B.a,{path:"/generated"},o.a.createElement(l.a,{className:"body",style:{marginTop:-30}},o.a.createElement(c.a,null,o.a.createElement(u.a,null,o.a.createElement(L,null))))),o.a.createElement(B.a,{path:"/"},o.a.createElement(T,null)))))};localStorage.setItem("randomSeed",Date.now()),r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.65660489.chunk.js.map